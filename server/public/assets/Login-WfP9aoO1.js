import{a as g}from"./index-NIGUFBhG.js";import{r as d,c as _,o as y,a as i,b as a,w as s,T as p,U as l,N as b,Q as w,ab as c,d as m,ac as f,V as I,K as k,F as B,ad as C}from"./index-vUQOwfGq.js";import{_ as N}from"./SnackBar-HH3n22ps.js";import{u as S}from"./useSnackBar-IN_qynCK.js";const j={class:"authentication"},R={__name:"Login",setup(F){const v=C(),{snackBar:x}=S(),r=d(null),n=d(null),t=d(null),V=async()=>{try{const o={emp_id:r.value,emp_pw:n.value},e=await g.get("/api/userLogin",{params:o});if(t.value=e.data,!t.value||Object.keys(t.value).length===0){x("아이디 또는 비밀번호를 확인해주세요","error");return}else sessionStorage.setItem("userId",t.value[0].emp_id),sessionStorage.setItem("userName",t.value[0].emp_name),sessionStorage.setItem("userPerm",t.value[0].perm),sessionStorage.setItem("deptName",t.value[0].dept_name),v.push("/")}catch(o){return console.error(o),[]}};return(o,e)=>(y(),_(B,null,[i("div",j,[a(k,{fluid:"",class:"pa-3"},{default:s(()=>[a(p,{class:"h-100vh d-flex justify-center align-center"},{default:s(()=>[a(l,{cols:"12",lg:"4",xl:"3",class:"d-flex align-center"},{default:s(()=>[a(b,{elevation:"10",class:"px-sm-1 px-0 mx-auto","max-width":"500"},{default:s(()=>[a(w,{class:"pa-sm-8"},{default:s(()=>[e[5]||(e[5]=i("div",{class:"d-flex justify-center py-4"},null,-1)),e[6]||(e[6]=i("div",{class:"text-body-1 text-muted text-center mb-3"},"로그인",-1)),a(p,{class:"d-flex mb-3"},{default:s(()=>[a(l,{cols:"12"},{default:s(()=>[a(c,{class:"font-weight-bold mb-1"},{default:s(()=>e[2]||(e[2]=[m("아이디")])),_:1}),a(f,{variant:"outlined",density:"compact","hide-details":"",color:"primary",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=u=>r.value=u)},null,8,["modelValue"])]),_:1}),a(l,{cols:"12"},{default:s(()=>[a(c,{class:"font-weight-bold mb-1"},{default:s(()=>e[3]||(e[3]=[m("비밀번호")])),_:1}),a(f,{variant:"outlined",density:"compact",type:"password","hide-details":"",color:"primary",modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=u=>n.value=u)},null,8,["modelValue"])]),_:1}),a(l,{cols:"12",class:"pt-0"}),a(l,{cols:"12",class:"pt-0"},{default:s(()=>[a(I,{color:"primary",size:"large",block:"",flat:"",onClick:V},{default:s(()=>e[4]||(e[4]=[m(" 로그인 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),a(N)],64))}};export{R as default};
