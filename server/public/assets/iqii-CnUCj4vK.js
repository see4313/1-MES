import{a as c}from"./index-NIGUFBhG.js";import{_ as C}from"./CommonModal-eUFOkW9R.js";import{r as u,c as I,o as k,b as l,w as o,O,d as m,a9 as w,Q as S,ai as M,K as N,T as y,U as i,a as f,ac as v,V as _,N as A,F}from"./index-BkcQ_3tW.js";const R={__name:"iqii",setup(U){const p=u(!0),r=u(!1),s=u(""),n=u(""),d=u("");function g(){r.value=!0}function V(){r.value=!1}async function T(){try{const t=await c.get("/api/lotId");return t&&t.data&&Array.isArray(t.data)?t.data:[]}catch(t){return console.error("LOT 조회 실패:",t&&t.message?t.message:t),[]}}async function L(t){if(t&&t.lot_id)s.value=String(t.lot_id);else return;V();try{const e=await c.get("/api/lotData",{params:{lot_id:s.value}});let a=null;e&&e.data&&(Array.isArray(e.data)?e.data.length>0&&(a=e.data[0]):typeof e.data=="object"&&(a=e.data)),a?(n.value=a.item_name?String(a.item_name):"",d.value=a.item_id?String(a.item_id):""):(n.value="",d.value="")}catch(e){console.error("LOT 상세조회 실패:",e&&e.message?e.message:e),n.value="",d.value=""}}function b(){console.log("조회 실행 - LOT:",s.value,"ITEM_ID:",d.value,"ITEM_NAME:",n.value)}function x(){s.value="",n.value="",d.value=""}return(t,e)=>(k(),I(F,null,[l(A,{elevation:"10",class:"mb-6"},{default:o(()=>[l(O,{class:"px-6 pt-6"},{default:o(()=>e[4]||(e[4]=[m("입고 품질 검사 조회")])),_:1}),l(w),l(S,{class:"py-6 px-6"},{default:o(()=>[l(M,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=a=>p.value=a)},{default:o(()=>[l(N,null,{default:o(()=>[l(y,null,{default:o(()=>[l(i,{cols:"12",md:"3"},{default:o(()=>[e[5]||(e[5]=f("h3",null,"LOT번호",-1)),l(v,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a),readonly:"",variant:"outlined",placeholder:"LOT번호를 선택하세요","append-inner-icon":"mdi-magnify",onClick:g},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"3"},{default:o(()=>[e[6]||(e[6]=f("h3",null,"품목명",-1)),l(v,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),variant:"outlined",disabled:""},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"3"},{default:o(()=>[e[7]||(e[7]=f("h3",null,"품목번호",-1)),l(v,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=a=>d.value=a),variant:"outlined",disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),l(y,null,{default:o(()=>[l(i,{cols:"12",class:"d-flex",style:{gap:"8px"}},{default:o(()=>[l(_,{color:"primary",variant:"flat",onClick:b},{default:o(()=>e[8]||(e[8]=[m("조회")])),_:1}),l(_,{color:"secondary",variant:"flat",onClick:x},{default:o(()=>e[9]||(e[9]=[m("초기화")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(C,{visible:r.value,title:"LOT 검색",idField:"lot_id",columns:[{key:"lot_id",label:"LOT번호"},{key:"item_id",label:"품목번호"},{key:"wh_id",label:"창고번호"}],fetchData:T,pageSize:5,onSelect:L,onClose:V},null,8,["visible"])],64))}};export{R as default};
