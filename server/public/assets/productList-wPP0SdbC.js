import{_ as h}from"./card-header-btn-DywzlSP9.js";import{s as k,a as s}from"./index-C6cMUqqj.js";import{_ as V}from"./CommonModal-eUFOkW9R.js";import{a as f}from"./index-NIGUFBhG.js";import{d as w}from"./dayjs.min-CQa8u9th.js";import{_ as C}from"./SnackBar-EkLInYn6.js";import{u as g}from"./useSnackBar-CsLaRa2S.js";import{s as S}from"./index-Bmo1IAdi.js";import{m as x,r as d,c as $,o as M,b as e,w as r,N as B,Q as I,T as c,U as R,p as q,ac as D,a0 as F,d as p,u as l,t as L,F as T}from"./index-BkcQ_3tW.js";import"./_commonjsHelpers-gnU0ypJ3.js";const J={__name:"productList",setup(Y){x(()=>{});const{snackBar:m}=g(),n=d(!1),i=d(null),u=d(),_=t=>!t.safe_qty||t.safe_qty===0?0:Math.round(t.bnt/t.safe_qty*100),y=async()=>{try{const t={item_id:i.value},a=await f.get("/api/productList",{params:t});u.value=a.data}catch{m("조회 실패.","error")}},v=async()=>{try{return(await f.get("/api/itemModal1")).data}catch{return m("조회 실패.","error"),[]}},b=t=>{i.value=t.item_id};return(t,a)=>(M(),$(T,null,[e(c,null,{default:r(()=>[e(B,{elevation:"10"},{default:r(()=>[e(I,{class:"py-6 px-6"},{default:r(()=>[e(h,{title:"제품 조회","btn-text":"조회","btn-variant":"flat","btn-color":"primary",onBtnClick:a[0]||(a[0]=o=>y())})]),_:1}),e(c,{"no-gutters":""},{default:r(()=>[e(R,{cols:"12",sm:"4"},{default:r(()=>[e(q,{class:"pa-2 ma-2"},{default:r(()=>[e(D,{variant:"outlined",label:"제품코드 검색",modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=o=>i.value=o)},{"append-inner":r(()=>[e(F,{onClick:a[1]||(a[1]=o=>n.value=!0),class:"cursor-pointer"},{default:r(()=>a[4]||(a[4]=[p("mdi-magnify")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(l(k),{value:u.value,tableStyle:"min-width: 50rem",onRowClick:t.onRowClick,class:"cursor-pointer",paginator:"",rows:5},{default:r(()=>[e(l(s),{field:"lot_id",header:"LOT"}),e(l(s),{field:"item_id",header:"제품 코드"}),e(l(s),{field:"item_name",header:"완제품명"}),e(l(s),{field:"crea_date",header:"입고 일자"},{body:r(({data:o})=>[p(L(l(w)(o.ordr_date).format("YYYY-MM-DD")),1)]),default:r(()=>[e(l(s),{field:"item_type",header:"제품유형"})]),_:1}),e(l(s),{field:"wh_id",header:"창고코드"}),e(l(s),{field:"safe_qty",header:"안전재고량"}),e(l(s),{field:"bnt",header:"현수량"}),e(l(s),{field:"psafe",header:"안전대비 보유율"},{body:r(o=>[e(l(S),{value:_(o.data),showValue:!0,style:{height:"20px"}},null,8,["value"])]),_:1})]),_:1},8,["value","onRowClick"])]),_:1})]),_:1}),e(V,{visible:n.value,title:"제품코드",idField:"item_id",columns:[{key:"item_id",label:"제품코드"},{key:"item_type",label:"제품유형"},{key:"item_name",label:"제품명"}],fetchData:v,pageSize:5,onSelect:b,onClose:a[3]||(a[3]=o=>n.value=!1)},null,8,["visible"]),e(C)],64))}};export{J as default};
