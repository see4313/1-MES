import{r as u,M as f,D as p,e as k,o as h,w as t,b as l,N as w,O as B,a as N,t as S,V as v,a0 as T,d as V,a2 as _,ac as z,ak as F,af as I}from"./index-vUQOwfGq.js";const M={class:"text-h6"},A={__name:"CommonModal",props:{visible:Boolean,title:String,columns:Array,idField:String,fetchData:Function,pageSize:{type:Number,default:10}},emits:["close","select"],setup(c,{emit:g}){const s=c,r=g,o=u(!1),i=u(""),d=u([]),b=u(1),x=f(()=>d.value),D=f(()=>[...s.columns.map(e=>({title:e.label,value:e.key,sortable:!0})),{title:"선택",value:"action",sortable:!1}]);async function y(){var a;const e=await((a=s.fetchData)==null?void 0:a.call(s));d.value=e||[]}function C(e){r("select",e),m()}function m(){r("close"),i.value="",o.value=!1}return p(()=>s.visible,e=>{o.value=e,e&&y()}),p(o,e=>{e||(r("close"),i.value="")}),(e,a)=>(h(),k(I,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=n=>o.value=n),"max-width":"800"},{default:t(()=>[l(w,null,{default:t(()=>[l(B,{class:"d-flex justify-space-between align-center"},{default:t(()=>[N("span",M,S(c.title),1),l(v,{icon:"",onClick:m},{default:t(()=>[l(T,null,{default:t(()=>a[2]||(a[2]=[V("mdi-close")])),_:1})]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(z,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=n=>i.value=n),label:"검색","append-inner-icon":"mdi-magnify",variant:"outlined",clearable:"",class:"mb-4"},null,8,["modelValue"]),l(F,{headers:D.value,items:x.value,search:i.value,"items-per-page":c.pageSize,"items-per-page-options":[5,10,15,20],page:b.value,class:"elevation-1"},{"item.action":t(({item:n})=>[l(v,{color:"primary",size:"small",onClick:U=>C(n)},{default:t(()=>a[3]||(a[3]=[V("선택")])),_:2},1032,["onClick"])]),_:1},8,["headers","items","search","items-per-page","page"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{A as _};
